<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Helicopter Maintenance Dashboard</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6f9;
}
.hidden{ display:none; }

header{
  background:#1e293b;
  color:white;
  padding:12px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
header small{ color:#cbd5e1; }

.container{ padding:20px; }

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
}

.card{
  background:white;
  padding:15px;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}

h2{ margin-top:0; }

label{
  font-weight:bold;
  display:block;
  margin-top:10px;
}

input, textarea{
  width:100%;
  padding:6px;
  margin-top:4px;
}

button{
  margin-top:15px;
  padding:10px 15px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
button:hover{ background:#1d4ed8; }

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}
th, td{
  border:1px solid #ccc;
  padding:6px;
}
th{ background:#e5e7eb; }

.done{ color:green; font-weight:bold; }
.notdone{ color:red; font-weight:bold; }

.badge{
  background:#16a34a;
  color:white;
  padding:3px 8px;
  border-radius:6px;
  font-size:12px;
}
</style>
</head>

<body>

<!-- ================= TOP BAR (MAIN PAGE) ================= -->
<header id="topBar" class="hidden">
  <div>
    <b id="tbReg"></b>
    <small> | TT: <span id="tbTT"></span> | TC: <span id="tbTC"></span></small>
  </div>
  <div>
    <small>Inspections:</small>
    <span id="tbInsp"></span>
  </div>
</header>

<!-- ================= PAGE 1 : SETUP ================= -->
<div id="pageSetup" class="container">

<div class="card">
<h2>üìå Aircraft Data & Planning</h2>

<div class="grid">
<div>
  <label>Aircraft Registration</label>
  <input id="reg">

  <label>Serial Number (S/N)</label>
  <input id="sn">

  <label>Total Time (TT)</label>
  <input id="tt">

  <label>Total Cycles (TC)</label>
  <input id="tc">
</div>

<div>
  <label>Required Inspections (Planning)</label>
  <label><input type="checkbox" value="50 HRS"> 50 HRS</label>
  <label><input type="checkbox" value="100 HRS"> 100 HRS</label>
  <label><input type="checkbox" value="300 HRS"> 300 HRS</label>
  <label><input type="checkbox" value="600 HRS"> 600 HRS</label>
  <label><input type="checkbox" value="1200 HRS"> 1200 HRS</label>
  <label><input type="checkbox" value="2400 HRS"> 2400 HRS</label>
  <label><input type="checkbox" value="1 YEAR"> 1 YEAR</label>
  <label><input type="checkbox" value="2 YEAR"> 2 YEAR</label>
  <label><input type="checkbox" value="4 YEAR"> 4 YEAR</label>
</div>
</div>

<label>Planned Consumables Order</label>
<textarea placeholder="Oil, filters, seals‚Ä¶"></textarea>

<button onclick="startMaintenance()">‚ñ∂ Start Maintenance</button>
</div>

</div>

<!-- ================= PAGE 2 : MAIN CONTROL ================= -->
<div id="pageMain" class="container hidden">

<div class="grid">

<div class="card">
<h2>üõ† Task Control</h2>

<input id="taskTitle" placeholder="Task title">

<label>Section / Team</label>
<select id="section">
  <option>Fuselage / Airframe</option>
  <option>Main Rotor & MGB</option>
  <option>Tail Rotor & Drive</option>
  <option>Engine</option>
  <option>Avionics & Electrical</option>
</select>

<label>Task Type</label>
<select id="taskType">
  <option>Inspection</option>
  <option>Routine</option>
  <option>Non-Routine</option>
</select>

<label>NRC # (only if Non-Routine)</label>
<input id="nrc">

<button onclick="addTask()">‚ûï Add Task</button>
</div>

<div class="card">
<h2>üìã Tally Sheet</h2>

<table>
<thead>
<tr>
  <th>#</th>
  <th>Reference</th>
  <th>Status</th>
</tr>
</thead>
<tbody id="tallyBody"></tbody>
</table>

<button onclick="markLastDone()">‚úî Mark Last Task Done</button>
</div>

</div>

<div class="grid">
<div class="card">
<h2>üì¶ Parts Control</h2>
<p>AOG: <span class="badge">GOOD</span></p>
<p>Issued: <span class="badge">GOOD</span></p>
<p>Available: <span class="badge">GOOD</span></p>
</div>
</div>

</div>

<script>
let inspections=[];
let tasks=[];

function startMaintenance(){
  inspections=[];
  document.querySelectorAll('#pageSetup input[type=checkbox]:checked')
    .forEach(c=>inspections.push(c.value));

  document.getElementById("tbReg").innerText = reg.value;
  document.getElementById("tbTT").innerText = tt.value;
  document.getElementById("tbTC").innerText = tc.value;
  document.getElementById("tbInsp").innerText = inspections.join(", ");

  document.getElementById("pageSetup").classList.add("hidden");
  document.getElementById("pageMain").classList.remove("hidden");
  document.getElementById("topBar").classList.remove("hidden");

  renderTally();
}

function addTask(){
  if(!taskTitle.value) return;
  tasks.push({
    title:taskTitle.value,
    type:taskType.value,
    section:section.value,
    nrc:nrc.value,
    done:false
  });
  taskTitle.value="";
  nrc.value="";
  renderTally();
}

function markLastDone(){
  if(tasks.length===0) return;
  tasks[tasks.length-1].done=true;
  renderTally();
}

function renderTally(){
  const t=document.getElementById("tallyBody");
  t.innerHTML="";
  let i=1;

  inspections.forEach(ins=>{
    t.innerHTML+=`
    <tr>
      <td>${i++}</td>
      <td>${ins} Inspection</td>
      <td>‚ùå</td>
    </tr>`;
  });

  tasks.forEach(ts=>{
    t.innerHTML+=`
    <tr>
      <td>${i++}</td>
      <td>${ts.type==="Non-Routine" ? "NRC "+ts.nrc+" ‚Äì ":""}${ts.title}</td>
      <td class="${ts.done?'done':'notdone'}">
        ${ts.done?'‚úî':'‚ùå'}
      </td>
    </tr>`;
  });
}
</script>

</body>
</html>
